# messages.py
# ูุฐุง ุงูููู ูุญุชูู ุนูู ุฌููุน ุงููุตูุต ูุงูุฑุณุงุฆู ุงูุชู ูุฑุณููุง ุงูุจูุช

# ==========================================
# 1. ุฑุณุงุฆู ุงูุชุฑุญูุจ ูุงููุณุงุนุฏุฉ (ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ)
# ==========================================
WELCOME_TEXT = """๐ **ุฃููุงู ุจู ูู ุจูุช *ุฑููู ุงููุฑุขู***
ุฑูููู ุงูุฏุงุฆู ูุชูุงูุฉุ ุงุณุชูุงุนุ ูุญูุธ ูุชุงุจ ุงููู.

๐ **ุฏููู ุงูุฃูุงูุฑ ุงููุฎุชุตุฑ:**

๐ **ุงูุชุตูุญ ูุงูุชูุงูุฉ:**
โข *ุณูุฑุฉ:* ุฃุฑุณู `ุณ ุงูููู` ุฃู `ุณ 18`
โข *ุฌุฒุก:* ุฃุฑุณู `ุฌ 1`
โข *ุญุฒุจ:* ุฃุฑุณู `ุญ 1`
โข *ุฑุจุน:* ุฃุฑุณู `ุฑ 1`
โข *ุตูุญุฉ:* ุฃุฑุณู `ุต 50`

๐ **ุงูุจุญุซ ูุงูุขูุงุช:**
โข *ุขูุฉ ูุญุฏุฏุฉ:* `ุข ุงูุจูุฑุฉ 255`
โข *ูุทุงู ุขูุงุช:* `ุข ุงูุจูุฑุฉ 1 ุฅูู 5`

๐ **ุงููุนูู (ููุฒุฉ ุงูุชุญููุธ):**
โข ูุชูุฑุงุฑ ุงูุขูุฉ ุฎูู ุงููุงุฑุฆุ ุฃุฑุณู `ุช` ูุงูุนุฏุฏ.
โข ูุซุงู: `ุช 3` (ูุชูุฑุงุฑ ุงูุขูุฉ 3 ูุฑุงุช)
โข ููุฅูุบุงุก: `ุช 1`

โ๏ธ **ุงูุฃุฏูุงุช:**
โข `ูุฑุงุก` : ูุนุฑุถ ูุงุฆูุฉ ุงููุดุงูุฎ
โข `ู 2` : ูุชุบููุฑ ุงููุงุฑุฆ ุณุฑูุนุงู
โข `ุฅุนุฏุงุฏุงุช` : ููุชุญูู ุจุงูุตูุช ูุงููุต

---
โจ *ุณุงูู ูู ูุดุฑ ุงูุจูุชุ ูุงูุฏุงู ุนูู ุงูุฎูุฑ ููุงุนูู.*"""

# ==========================================
# 2. ุฑุณุงุฆู ุงููุฑุงุก ูุงูุฅุนุฏุงุฏุงุช
# ==========================================
RECITERS_HEADER = "๐๏ธ *ูุงุฆูุฉ ุงููุฑุงุก ุงููุชุงุญูู:*\nโโโโโโโโโโโโ\n"
RECITERS_FOOTER = "\n๐ *ููุงุฎุชูุงุฑ ุงูุณุฑูุน:*\nุฃุฑุณู ุญุฑู `ู` ูุฑูู ุงููุงุฑุฆ.\nูุซุงู: `ู 1`"

def msg_reciter_selected(name, rewaya):
    return f"โ *ุชู ุชุบููุฑ ุงููุงุฑุฆ ุจูุฌุงุญ*\n๐ค ุงููุงุฑุฆ: *{name}*\n๐ ุงูุฑูุงูุฉ: {rewaya}"

def msg_repeat_set(count):
    if count == 1:
        return "โ *ุชู ุฅูุบุงุก ุงูุชูุฑุงุฑ.* (ุงููุถุน ุงูุนุงุฏู)"
    return f"โ *ุชู ุชูุนูู ุงูุชุญููุธ.*\nุณูุชู ุชูุฑุงุฑ ูู ุขูุฉ: *{count} ูุฑุงุช*."

def msg_toggle_status(feature, is_enabled):
    status = "ููุนู โ" if is_enabled else "ูุชููู โ"
    return f"ุชู ุชุบููุฑ ุญุงูุฉ {feature} ุฅูู: *{status}*"

def msg_settings_display(audio, text, repeat, reciter_name):
    # ุชุญุณูู ุนุฑุถ ุงูุฅุนุฏุงุฏุงุช ูููุญุฉ ุชุญูู
    return f"""โ๏ธ *ููุญุฉ ุงูุฅุนุฏุงุฏุงุช:*

๐ค *ุงููุงุฑุฆ ุงูุญุงูู:* {reciter_name}
๐ *ูุธุงู ุงูุชูุฑุงุฑ:* {repeat} ูุฑุงุช

๐ *ุงูุฎุตุงุฆุต:*
๐ ุงูุตูุช: {'โ' if audio else 'โ'}
๐ ุงููุต: {'โ' if text else 'โ'}

ููููููููููููููููููููููููููููููู
*ููุชุนุฏูู ุฃุฑุณู:*
โข `ุตูุช` ุฃู `ูุต` (ููุชุจุฏูู)
โข `ุช 3` (ูุถุจุท ุงูุชูุฑุงุฑ)
โข `ู 2` (ูุชุบููุฑ ุงููุงุฑุฆ)"""

# ==========================================
# 3. ุฑุณุงุฆู ุงูุญุงูุฉ (ุฌุงุฑู ุงูุชุญุถูุฑ)
# ==========================================
def msg_preparing_text(title):
    return f"โณ ุฌุงุฑู ุฌูุจ ุงูุขูุงุช: *{title}*..."

def msg_preparing_audio(repeat_count):
    msg = "๐ง *ุฌุงุฑู ุชุญุถูุฑ ุงูุชูุงูุฉ...*"
    if repeat_count > 1:
        msg += f"\n๐ (ูุถุน ุงูุชุญููุธ: {repeat_count} ูุฑุงุช)"
    return msg

def caption_audio(reciter_name, repeat_count):
    caption = f"๐ค {reciter_name}"
    if repeat_count > 1:
        caption += f" | ๐ ุชูุฑุงุฑ: {repeat_count}"
    return caption

# ==========================================
# 4. ุฑุณุงุฆู ุงูุฃุฎุทุงุก ูุงูุชุญุฐูุฑุงุช
# ==========================================
ERR_RECITER_NOT_FOUND = "โ ุฑูู ุงููุงุฑุฆ ุบูุฑ ุตุญูุญ.\nุฃุฑุณู ูููุฉ `ูุฑุงุก` ูุนุฑุถ ุงููุงุฆูุฉ ุงููุชุงุญุฉ."
ERR_INVALID_REPEAT = "โ๏ธ *ุฑูู ุบูุฑ ูุณููุญ.*\nูุฑุฌู ุงุฎุชูุงุฑ ุนุฏุฏ ุชูุฑุงุฑ ุจูู *1* ู *10*."
ERR_AUDIO_NOT_FOUND = "โ ุนุฐุฑุงูุ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูููู ุงูุตูุชู ููุฐู ุงูุขูุงุช."
ERR_GENERAL = "โ ุญุฏุซ ุฎุทุฃ ููู ุบูุฑ ูุชููุนุ ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู."

def err_too_many_verses(limit):
    return f"โ๏ธ *ุชูุจูู:* ุนุฏุฏ ุงูุขูุงุช ูุจูุฑ ุฌุฏุงู ูุน ูุถุน ุงูุชูุฑุงุฑ.\nุงูุญุฏ ุงูุฃูุตู ุงููุณููุญ ุจู ุนูุฏ ุงูุชูุฑุงุฑ ูู *{limit} ุขูุฉ*."

# ==========================================
# 5. ุชูุณูู ูุต ุงููุฑุขู (Presentation Logic)
# ==========================================
def format_quran_text(verses, title):
    """ุชูุณูู ุงูุขูุงุช ููุต ูุงุญุฏ ูุน ุงูุจุณููุฉ ูุงูุนููุงู"""
    msg = f"๐ *{title}* ๐\nโโโโโโโโโโโโ\n\n"
    
    # ุฅุถุงูุฉ ุงูุจุณููุฉ ุฅุฐุง ูุงูุช ุจุฏุงูุฉ ุณูุฑุฉ (ูุง ุนุฏุง ุงูุชูุจุฉ ูุงููุงุชุญุฉ)
    # ุงููุงุชุญุฉ (1) ูุงูุชูุจุฉ (9) ูููุง ูุถุน ุฎุงุต ูู ุงูุจุณููุฉ
    if verses[0]['numberInSurah'] == 1 and verses[0]['sura_number'] not in [1, 9]:
        msg += "๏ทฝ\n\n"
        
    for v in verses:
        # ุฅุถุงูุฉ ุนูุงูุฉ ุงูุณุฌุฏุฉ ุฅู ูุฌุฏุช
        # ูุชุฃูุฏ ุฃู ุงููููุฉ True ุณูุงุก ูุงูุช ูุต ุฃู ุจูููุงู
        sajda_mark = ""
        sajda_val = v.get('sajda', False)
        if sajda_val is True or str(sajda_val).lower() == 'true':
            sajda_mark = " ฉ"

        # ุชูุณูู ุงูุขูุฉ: ุงููุต + ุนูุงูุฉ ุงูุณุฌุฏุฉ + (ุฑูู ุงูุขูุฉ)
        msg += f"{v['text']}{sajda_mark} {v['numberInSurah']} "
        
    return msg
